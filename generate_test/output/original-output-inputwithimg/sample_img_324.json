{
  "prompt": "Sampling algorithms choose the next token at each time step~\\(s_i\\) by sampling from the conditional distribution~\\(p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:i-1})\\) and appending it to the context.",
  "final_latex_code": "\\documentclass{article}\n\\usepackage{amsmath}\n\\usepackage[utf8]{inputenc}\n\\usepackage[T1]{fontenc}\n\\usepackage{tikz}\n\\usetikzlibrary{arrows,positioning}\n\n\\begin{document}\n\n\\begin{figure}[h]\n    \\centering\n    \\begin{tikzpicture}[node distance=2cm,\n        mblock/.style={draw, minimum width=30mm, minimum height=15mm},\n        bblock/.style={draw, fill=black, text=white, minimum width=15mm, minimum height=15mm},\n        ]\n        % Nodes\n        \\node[mblock] (y1) {$\\boldsymbol{y}_1$ $\\sim$ $p_{\\theta}(\\cdot)$};\n        \\node[bblock, below of = y1] (b1) {boyfriend \\\\ is \\\\ Karma \\\\ my};\n        \\node[mblock, right of = y1, xshift=-4cm] (y2) {$\\boldsymbol{y}_2$ $\\sim$ $p_{\\theta}(\\cdot \\mid \\boldsymbol{y}_1)$};\n        \\node[bblock, below of = y2] (b2) {boyfriend \\\\ is \\\\ Karma \\\\ my};\n        \\node[mblock, right of = y2, xshift=-4cm] (y3) {$\\boldsymbol{y}_3$ $\\sim$ $p_{\\theta}(\\cdot \\mid \\boldsymbol{y}_{2})$};\n        \\node[bblock, below of = y3] (b3) {boyfriend \\\\ is \\\\ Karma \\\\ my};\n        \\node[mblock, right of = y3, xshift=-4cm] (y4) {$\\boldsymbol{y}_4$ $\\sim$ $p_{\\theta}(\\cdot \\mid \\boldsymbol{y}_{3})$};\n        \\node[bblock, below of = y4] (b4) {boyfriend \\\\ is \\\\ Karma \\\\ my};\n        \\node[mblock, right of = y4, xshift=-4cm] (y5) {$\\boldsymbol{y}_k$ $\\sim$ $p_{\\theta}(\\cdot \\mid \\boldsymbol{y}_{k-1})$};\n        \n        \\node[mbox, right of = y5, xshift=6cm] (mbox) {};\n        \n        \\node[right of = y5] (mbox2) {$\\boldsymbol{y}$ $\\in$ $\\mathcal{Y}$};\n        \n        % Drawing arrows\n        \\draw[->, >=stealth'] (y1) -- (b1);\n        \\draw[->, >=stealth'] (y2) -- (b2);\n        \\draw[->, >=stealth'] (y3) -- (b3);\n        \\draw[->, >=stealth'] (y4) -- (b4);\n        \\draw[->, >=stealth'] (y5) -- node[below] {$\\boldsymbol{y}_k$} (mbox.north east);\n        \n        \\draw[->, >=stealth'] (b1) -- (y2);\n        \\draw[->, >=stealth'] (b2) -- (y3);\n        \\draw[->, >=stealth'] (b3) -- (y4);\n        \\draw[->, >=stealth'] (b4) -- (mbox.west);\n        \n        \\draw[->, >=stealth'] (mbox2) -- node[below] {} (mbox.south east);\n    \\end{tikzpicture}\n    \n    \\caption{Sampling algorithms choose the next token at each time step $s_i$ by sampling from the conditional distribution $p_\\theta(\\cdot \\mid \\boldsymbol{y}_{:i-1})$ and appending it to the context.}\n\\end{figure}\n\n\\end{document}",
  "compiled_successfully": true,
  "ground_truth": "\\documentclass[10pt]{article}\n\\usepackage{amsmath,amsfonts,bm}\n\\usepackage{amsmath}\n\\usepackage{amssymb}\n\\usepackage{tikz}\n\\usepackage{pgfplots}\n\\usepackage{xcolor}\n\\usetikzlibrary{shapes, positioning, fit, backgrounds, tikzmark}\n\\pgfplotsset{compat=newest}\n\\usepgfplotslibrary{fillbetween}\n\\usepackage{color-edits}\n\n\\begin{document}\n\n\\begin{tikzpicture}[\n    vocab/.style={\n      draw,\n      text=gray,\n      rectangle split,\n      rectangle split parts=5,\n      rectangle split part align=left,\n      rectangle split draw splits=false,\n    }\n  ]\n  \\node[\n    vocab,\n    rectangle split part fill={none, none, black, none},\n    label=below:\\(s_1\\),\n    label=above:\\(y_1\\sim p_\\theta(\\cdot)\\),\n  ] (s1)  {\n    \\nodepart{one} {boyfriend}\n    \\nodepart{two} {is}\n    \\nodepart{three} \\textcolor{white}{Karma}\n    \\nodepart{four} {my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\node[\n    vocab,\n    rectangle split part fill={none, black, none},\n    label=below:\\(s_2\\),\n    label=above:\\(y_2\\sim p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:1})\\),\n  ] (s2) [right=of s1] {\n    \\nodepart{one} {boyfriend}\n    \\nodepart{two} \\textcolor{white}{is}\n    \\nodepart{three} {Karma}\n    \\nodepart{four} {my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\foreach \\part in {text west, two west, three west, four west, five west} {\n    \\draw[->, shorten >= 4pt] (s1.three east) -- (s2.\\part);\n  }\n  \\node[\n    vocab,\n    rectangle split part fill={none, none, none, black, none},\n    label=below:\\(s_3\\),\n    label=above:\\(y_3\\sim p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:2})\\),\n  ] (s3) [right=of s2] {\n    \\nodepart{one} {boyfriend}\n    \\nodepart{two} {is}\n    \\nodepart{three} {Karma}\n    \\nodepart{four} \\textcolor{white}{my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\foreach \\part in {text west, two west, three west, four west, five west} {\n    \\draw[->, shorten >= 4pt] (s2.two east) -- (s3.\\part);\n  }\n  \\node[\n    vocab,\n    rectangle split part fill={black, none},\n    label=below:\\(s_4\\),\n    label=above:\\(y_4\\sim p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:3})\\),\n  ] (s4) [right=of s3] {\n    \\nodepart{one} \\textcolor{white}{boyfriend}\n    \\nodepart{two} {is}\n    \\nodepart{three} {Karma}\n    \\nodepart{four} {my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\foreach \\part in {text west, two west, three west, four west, five west} {\n    \\draw[->, shorten >= 4pt] (s3.four east) -- (s4.\\part);\n  }\n  \\node[draw, fit=(s1) (s2) (s3) (s4), inner sep=16pt, rounded corners] (decoding) {};\n  \\node[\n    draw=white,\n    rectangle split,\n    rectangle split horizontal,\n    rectangle split parts=4,\n    rectangle split part fill=black,\n    label=\\(\\boldsymbol{y}\\in\\mathcal{Y}\\),\n  ] (seq) [right=of decoding] {};\n  \\draw[->, shorten >= 4pt] (decoding) -- (seq);\n\\end{tikzpicture}\n\n\\end{document}",
  "attempts": 1
}