{
  "prompt": "Taking an X-ray for the Head. It is meant to help professionals in the medical/dental field to use the different elements used to compose their own related drawings. This is a drawing of a head viewed from the top. The structures in 3 coronal levels are represented by a definite shape and color in each level. The head is exposed to an X-ray beam from an X-ray tube. The resulting shadow on an X-ray film is represented in a rectangle beside the main drawing.",
  "final_latex_code": "\\documentclass{article}\n\\usepackage[margin=1in]{geometry}\n\\usepackage{tikz}\n\\usetikzlibrary{calc,positioning}\n\n\\begin{document}\n\n\\begin{figure}[h]\n    \\centering\n    \\begin{tikzpicture}[scale=0.8, transform shape]\n        % Head\n        \\draw[fill=white!70!gray] (-5,-2) rectangle (5,2);\n        \\draw[fill=orange!50!brown] (0,0) ellipse (4cm and 2cm);\n        \\draw[fill=gray!50!white] (-3,0) -- (3,0) -- (3,0.5) -- (-3,0.5) -- cycle;\n        \\draw[red, thick, dashed] (-4,0) -- (4,0);\n        \\draw[blue, thick, dashed] (-4,-1) -- (4,-1);\n        \n        % X-ray tube\n        \\draw[fill=gray!80!black] (-5,-10) rectangle (5,-6);\n        \\draw[fill=gray!50!white] (0,-8) ellipse (3cm and 1.5cm);\n        \\draw[fill=gray!50!white] (-3,-8) -- (3,-8) -- (3,-10) -- (-3,-10) -- cycle;\n        \n        % X-ray beam\n        \\draw[red, thick, dashed] (-4,0) -- (-4,10);\n        \\draw[red, thick, dashed] (4,0) -- (4,10);\n        \n        % X-ray beam intersection\n        \\filldraw[fill=green!50!black, draw=black, thick, opacity=0.5] (0,0) circle (0.1);\n        \n        % X-ray film\n        \\node at (-6,2) {\\includegraphics[width=4cm]{example-image}};\n        \n        % Labels\n        \\node[below left=2cm and 1cm of -4,0] {X-ray tube};\n        \\node[right=2cm of -4,0] {X-ray beam};\n        \\node[left=2cm of -4,0] {X-ray beam};\n        \\node[above=1cm of 0,0] {Head};\n        \\node[below=1cm of 0,0] {X-ray beam intersection};\n    \\end{tikzpicture}\n    \\caption{Top view of a head with X-ray structures and positions.}\n    \\label{fig:xray_head}\n\\end{figure}\n\n\\end{document}",
  "compiled_successfully": true,
  "ground_truth": "\\documentclass[tikz,border={10pt 60pt 10pt 10pt}]{standalone}\n\\usetikzlibrary{decorations.pathmorphing}\n% ---------- begin definition xraytube, headtop and 3-level objects\n%\n% inspired by the comment of samcarter https://tex.stackexchange.com/users/36296\n% to my post https://tex.stackexchange.com/questions/713645\n% ---------- definitions for lengths of different segments, scaling,\n% and rotation angles.\n\\def\\scl{.4}\n\\def\\wda{1}\n\\def\\wdb{2}\n\\def\\wdc{4}\n\\def\\rotm{40}\n\\def\\rotd{-40}\n% ---------- definition for drawing an xray tube\n\\def\\xraytube\n{%\n  \\begin{scope}[scale=\\scl, opacity=1, line width=.05cm,\n    rounded corners=5pt, transform shape, overlay]\n    \\draw[gray, bottom color=gray, top color=gray!25] (-\\wda,0)  --++(-90:\\wdc)\n       --++(180:\\wdb) --++(-90:\\wdb) --++(0:\\wdb)   --++(0:\\wda) --++(0:\\wda)\n       --++(0:\\wdb)   --++(90:\\wdb)  --++(180:\\wdb) --++(90:\\wdc)  --cycle;\n    \\draw[gray, top color=gray, bottom color=gray!40] (0,-.35) \n      ellipse (1. and 0.5);\n\\end{scope}\n}%\n% ---------- definition for drawing a head viewed from the top\n\\def\\headtop\n% ---------- modified form https://tex.stackexchange.com/a/74176/213 \n% by Tom Bombadil https://tex.stackexchange.com/users/7279\n{%\n\\begin{scope}[scale=2*\\scl, line width=.05cm, rounded corners=3pt,\n    rotate=0, looseness=1.,overlay]\n  \\coordinate   (o) at (0,0) {};\n  \\coordinate  (or) at ([shift={(0.:4.)}]o.center);\n  \\coordinate  (ot) at ([shift={(86.:1.)}]o.center);\n  \\coordinate (ort) at ([shift={(95.:1.)}]or.center);\n  \\coordinate   (x) at ([shift={(56.5:3.6)}]o.center);\n  \\coordinate  (xt) at ([shift={(90:.3)}]x.center);\n  \\coordinate  (xl) at ([shift={(180:.34)}]x.center);\n  \\coordinate  (xr) at ([shift={(0:.34)}]x.center);\n%\n  \\draw[brown, bottom color=brown!60!orange!25!white, top color=brown!60]\n    (xl.center) to [out=40,  in=-140] (xt.center)\n                to [out=-40, in=140]  (xr.center);\n%\n  \\draw[brown, right color=brown!60!orange!25!white, left color=brown!60]\n    (o.center) to [out=-170, in=160] (ot.center);\n%\n  \\draw[brown, left color=brown!60!orange!25!white, right color=brown!60]\n    (or.center) to [out=-10, in=20] (ort.center);\n%\n  \\draw[brown, inner color=brown!60!orange!25!white, outer color=brown!60]\n    (o.center) arc (180:360:2) to[out=90, in=0] (x.center)\n    to [out=180, in=90] (o.center) -- cycle;\n\\end{scope}\n}%\n% ---------- subjects in 3 levels in the head%inspired by the comment of \n% Black Mild https://tex.stackexchange.com/users/140722\n% to my post https://tex.stackexchange.com/questions/713739\n%---------- definitions for drawing circles, rectangles, and triangles\n\\tikzset{\n  crcl/.pic = {\n    \\draw[line width=.06cm, red, fill=red] (0,.25) circle (.25cm); },\n  rctng/.pic = {\n    \\draw[line width=.06cm, blue, fill=blue] (0,0) rectangle ++(0.5,0.5); },\n  trngl/.pic = {\n    \\draw[line width=.06cm, green!70!black, fill=green!70!black] (0,0)\n      -- ++(60:.6) -- +(-60:.6) -- cycle; },\n  % ---------- definition for drawing an xray beam\n  rayr/.pic = {\n    \\draw [decorate, -latex, line width=.05cm] (0,0) -- ++(90:5.2cm); },\n  % ---------- definition for drawing an xray field\n  raytrg/.pic = {\n    \\draw[gray, outer color=gray!75, inner color=gray!30] (0,0)\n      -- +(110:6.8) -- +(70:6.8)--cycle; },\n  %---------- definition for drawing an xray film\n  flm/.pic = {\n    \\draw[gray, top color=gray!80, bottom color=gray!80, middle color=gray!40]\n     (0,0) rectangle +(5.,-.2) node[midway]{.}; }\n}\n% end definition xraytube, headtop and 3-level objects\n%\n\\begin{document}\n\\begin{tikzpicture}\n  \\pic[shift={(.04cm,.01cm)}] {flm};% The x-ray film\n  \\pic[shift={(2.54cm,-6.6cm)}] {raytrg};% The x-ray field\n  % The head viewed from the top:\n  \\begin{scope}[shift={(1.46cm,-2.8cm)}, scale=.68]\n    \\headtop\n  \\end{scope}\n  % The x-ray tube:\n  \\begin{scope}[shift={(2.54,-6cm)}]\n    \\xraytube\n  \\end{scope}\n%\n% ---------- Drawing subjects in 3 coronal levels in the head\n  \\begin{scope}[scale=.45, transform shape, shift={(1.6cm,-7.4cm)}]\n    \\begin{scope}[yshift=2cm]\n      \\draw[line width=.06cm, red, dashed] (0,0) -- ++(0:8cm);\n      \\foreach \\x in {4} \\pic at (\\x,-.25) {crcl};\n    \\end{scope}\n    %\n    \\begin{scope}[xshift=-.2cm]\n      \\draw[line width=.06cm, blue, dashed] (.25,0) -- ++(0:8cm);\n      \\foreach \\x in {4} \\pic at (\\x,-.25) {rctng};\n    \\end{scope}\n    %\n    \\begin{scope}[shift={(-.25cm,4cm)}]\n      \\draw[line width=.06cm, green!60!black, dashed] (.25,0) -- ++(0:8cm);\n      \\foreach \\x in {4} \\pic at (\\x,-.25) {trngl};\n    \\end{scope}\n  \\end{scope}\n  % The x-ray beam direction\n  \\begin{scope}[decoration={snake, amplitude=.4mm, segment length=3mm,\n    post length=4mm}, shift={(2.54cm,-6cm)}]\n    \\pic at (0,0) [rotate=0, red, scale=1.1] {rayr};\n  \\end{scope}\n  % representation of the shadows of the 3-level subjects on the x-ray film\n  \\begin{scope}[shift={(-5cm,.1cm)}]\n    \\draw[gray] (0,0) rectangle +(-20:5) node[midway](mid){.};\n  \\end{scope}\n  \\begin{scope}[shift={(-2.9cm,-1cm)}, opacity=.4]\n    \\pic {rctng};\n    \\hskip .25cm\n    \\pic {crcl};\n    \\hskip -.3cm\n    \\pic {trngl};\n  \\end{scope}\n\\end{tikzpicture}\n\\end{document}",
  "attempts": 1
}