{
  "prompt": "Illustration of Riemannian optimization on $\\mathbb{T}_2$ (represented as a torus embedded in $\\mathbb{R}^3$): the iterate $\\mathbf{w}_{t+1}$ is obtained from the retraction $\\mathcal{R}_{\\mathbf{w}_t}$ applied to the direction descent $\\boldsymbol{\\xi}_t \\in {T}_{\\mathbf{w}_t} \\mathbb{T}_2$ (i.e., a vector of the tangent space of $\\mathbb{T}_2$ at point $\\mathbf{w}_t$).",
  "final_latex_code": "\\documentclass[10pt,a4paper]{article}\n\\usepackage{amsmath}\n\\usepackage{amsfonts}\n\\usepackage{amssymb}\n\\usepackage{graphicx}\n\\usepackage{pgfplots}\n\\pgfplotsset{compat=1.17}\n\\usepackage{tikz}\n\\usepackage{float}\n\n\\begin{document}\n\n\\begin{figure}[H]\n    \\centering\n    \\begin{tikzpicture}[scale=0.75]\n        % Torus surface\n        \\def\\r{3}\n        \\def\\R{4}\n        \\def\\ang{60}\n        \n        \\draw[gray, opacity=0.3] plot[domain=0:360, variable=\\t] ({(\\R+\\r*cos(\\t))*cos(\\t)}, {(\\R+\\r*cos(\\t))*sin(\\t)}, {\\r*sin(\\t)});\n        \\draw[gray, opacity=0.3] plot[domain=0:360, variable=\\t] ({(4+\\r*cos(\\t))*cos(\\t)}, {(4+\\r*cos(\\t))*sin(\\t)}, {\\r*sin(\\t)});\n        \n        % Tangent plane\n        \\draw[fill=black, fill opacity=0.1] \n            (0,0,-0.5) -- (-1,-1,-0.5) -- (-1,1,-0.5) -- (0,0,-0.5);\n        \\draw[fill=black, fill opacity=0.1] \n            (0,0,0.5) -- (1,-1,0.5) -- (1,1,0.5) -- (0,0,0.5);\n            \n        % Direction vector\n        \\draw[->, thick, magenta] (0,0,0) -- node[midway, above left] {$\\boldsymbol{\\xi}_t$} (2,0,0);\n        \n        % Retraction arrow\n        \\draw[->, thick, dashed, black] (0,0,0) -- node[pos=0.8, below right] {$\\mathbf{w}_{t+1} = \\mathcal{R}_{\\mathbf{w}_t} (\\boldsymbol{\\xi}_t)$} (0.5,0.5,0.5);\n        \n        % Labels\n        \\node at (4,2,0) {$T_{\\mathbf{w}_t} \\mathbb{T}_2$};\n        \n        % Points\n        \\filldraw[black] (0,0,0) circle (1pt) node [above left] {$\\mathbf{w}_t$};\n        \n    \\end{tikzpicture}\n    \\caption{Illustration of Riemannian optimization on $\\mathbb{T}_2$ (a torus embedded in $\\mathbb{R}^3$): the iterate $\\mathbf{w}_{t+1}$ is obtained from the retraction $\\mathcal{R}_{\\mathbf{w}_t}$ applied to the direction descent $\\boldsymbol{\\xi}_t \\in T_{\\mathbf{w}_t}\\mathbb{T}_2$ (a vector of the tangent space of $\\mathbb{T}_2$ at point $\\mathbf{w}_t$).}\n    \\label{fig:tangent_space_torus}\n\\end{figure}\n\n\\end{document}",
  "compiled_successfully": true,
  "ground_truth": "\\documentclass[journal]{IEEEtran}\n\\usepackage{color}\n\\usepackage[T1]{fontenc}\n\\usepackage{amssymb,amsmath,amsfonts}\n\\usepackage{pgfplots}\n\\usepgfplotslibrary{colormaps}\n\\pgfplotsset{\n    compat=newest,\n\tcolormap={justblackandwhite}{color=(white) color=(white) color=(white)}\n}\n\n\\begin{document}\n\n    \\begin{tikzpicture}\n\n    \\begin{axis}[\n        axis equal image,\n        hide axis,\n        z buffer = sort,\n        view = {0}{20},\n        scale = 1\n        ]\n\n        \\addplot3[\n            surf,\n            shader    = faceted interp,\n            samples   = 20,\n            samples y = 40,\n            domain    = 0:2*pi,\n            domain y  = 0:2*pi,\n            colormap name = justblackandwhite, thin\n        ] (\n            {(3.5+sin(deg(\\x)))*cos(deg(\\y))},\n            {(3.5+sin(deg(\\x)))*sin(deg(\\y))},\n            {cos(deg(\\x))}\n        );\n\n\n\n    \t\\addplot3[mark=*,mark size=0.5pt, only marks,draw=black,fill=black] coordinates {\n        % (0,  0   , 0) % centre du tore\n        %(3.30,  0   , 0) % gauche droite\n        %(0,  3   , 0) % profondeur -> doit être à 0 tout le temps\n        %(0,  0   , 3) % hauteur \n        (-1.3, 0, -0.5) % point 1 with tangent\n        (-0.5,    0, -1) % point2\n\t    };\n\n        \\draw [fill=gray!20,opacity=0.4] \n        (-2.7,0,-1.2) -- (-0.7,0,-1.6) -- (0.3,0,0.3) -- (-1.7,0,0.7) -- (-2.7,0,-1.2);\n\n\n        \\draw [dashed]\n        (-1.3, 0, -0.5) .. controls (-0.9,0,-0.7) ..  (-0.5,    0, -1);\n\n       \\draw [->, color = magenta] (-1.3, 0, -0.5) -- (-0.42, 0, -0.62);\n\n       \\draw [densely dotted] (-0.42, 0, -0.62) -- (-0.5,    0, -1);\n\n\n    \\node[font=\\scriptsize, anchor=south west] at (0.15,0,0.15) {${T}_{\\mathbf{w}_t} \\mathbb{T}_2$};\n    \\node[font=\\scriptsize] at (-1.5, 0, -0.3) {$\\mathbf{w}_t$};\n    \\node[font=\\scriptsize] at (-0.45, 0, -0.3) {\\textcolor{magenta}{$\\boldsymbol{\\xi}_t$}};\n    \\node[font=\\scriptsize, anchor=north west] at (-0.55, 0,-0.8) {$\\mathbf{w}_{t+1}=\\mathcal{R}_{\\mathbf{w}_t}(\\boldsymbol{\\xi}_t) $};\n\n    \\end{axis}\n\n    \\end{tikzpicture}\n\n\\end{document}",
  "attempts": 3
}