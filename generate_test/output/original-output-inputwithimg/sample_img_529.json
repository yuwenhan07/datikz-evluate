{
  "prompt": "For the individual adapter predictions, we use a Transformer based model with adapter layers inserted after the feed forward layer of the Transformer as proposed by \\citet{pfeiffer-etal-2021-adapterfusion}.",
  "final_latex_code": "\\documentclass[tikz,border=3mm]{standalone}\n\\usetikzlibrary{positioning,fit,backgrounds,matrix,arrows.meta}\n\n\\begin{document}\n    \\begin{tikzpicture}[\n        node distance = 5mm and 5mm,\n         arr/.style = {draw,-Stealth},\n       box/.style = {draw, rounded corners, fill=#1!20, \n                     minimum width=15mm, minimum height=8mm, \n                     font=\\sffamily\\scriptsize\\sffamily},\n       every matrix/.style = {row sep=3mm, column sep=0mm},\n   every label/.append style = {inner xsep=0pt}\n            ]\n\\matrix (m) [matrix of nodes,\n             nodes={box, anchor=center, text depth=.4ex, draw opacity=0.6,\n                    inner xsep=2pt}]\n{\n|[label={[shift={(0,2.4mm)}]above:Add \\& Norm}|]|\\\\\n    Add \\\\ \\node[box=red!20] {Norm}; \\\\ Add \\\\\n    Feed \\\\ Forward Up \\\\\n    Feed \\\\ Forward Down \\\\\n    \\node[box=blue!20] {Norm}; \\\\\n    \\node[box=red!20] {Adapter} ; \\\\\n    Add \\& Norm \\\\  \n    Feed \\\\ Forward \\\\\n    Add \\& Norm \\\\\n    Multi-Head \\\\ Attention \\\\\n};\n%\n\\coordinate[below=of m.south east -| m.north east] (out);\n%\n\\begin{scope}[on background layer]\n\\node[draw, rounded corners, dashed,\n      fit=(m.Add.south west)(m.Add.south east),\n      inner sep=9mm](aux){};\n\\end{scope}\n%\n\\draw[arr] (m.Add) edge[out=-90,in=90] ++(0,-7mm)\n            (m.Norm)  edge[arr]   (m.Add) \n            (m.Feed)  edge[arr]   (m.Norm) \n            (m.Norm)  edge[arr]   (m.Feed) \n            (m.Norm)  edge[arr]   (m.Adapter) \n            (m.Add)   edge[arr]   (m.Adapter) \n            (m.Adapter) edge[arr] (m.Add & Norm)\n            (m.Adapter) edge[arr] (m.Feed Forward)\n            (m.Feed Forward) edge[arr] (m.Add & Norm)\n            (m.Feed Forward) edge[arr] (m.Feed Forward Down)\n            (m.Feed Forward Down) edge[arr] (m.Norm)\n            (m.Norm)   edge[arr]   (m.Feed Forward Down)\n            (m.Feed Forward Down) edge[arr] (m.Add & Norm)\n            (m.Add & Norm) edge[arr] (m.Feed Forward)\n            (m.Feed Forward) edge[arr] (m.Add & Norm)\n            (m.Add & Norm) edge[arr] (m.Add & Norm)\n            (m.Add & Norm) edge[arr] (m.Multi-Head Attention)\n            (m.Multi-Head Attention) edge[arr] (m.Add & Norm)\n            (m.Multi-Head Attention) edge[arr] (out);\n\\end{tikzpicture}\n\\end{document}",
  "compiled_successfully": true,
  "ground_truth": "\\documentclass[10pt, a4paper]{article}\n\\usepackage{amsmath}\n\\usepackage{tikz}\n\\usetikzlibrary{shadows}\n\\usetikzlibrary{arrows}\n\\usepackage{colortbl}\n\n\\begin{document}\n\n\\begin{tikzpicture}[block/.style={rectangle, draw, line width=0.3mm, rounded corners, font=\\ttfamily\\scriptsize}]\n    \\node[block, minimum width=4.0cm, minimum height=9.3cm, line width=0.6mm, rounded corners=5mm, fill=cyan!10, drop shadow] (main) at (0,-0.6) {};\n    \\node[block, dashed, minimum width=2.7cm, minimum height=4.2cm, line width=0.2mm, fill=red!10] (main) at (0,1.0) {};\n\n    \\node[block, minimum width=1cm, minimum height=0.5cm, line width=0.3mm, align=center, fill=yellow!10] (add3) at (0, 3.6) {Add \\& Norm};\n\n    \\node[block, draw, minimum width=0.5cm, minimum height=0.2cm, line width=0.3mm, align=center, fill=yellow!10] (addadap2) at (0,2.7) {Add};\n    \\node[block, draw, minimum width=0.5cm, minimum height=0.2cm, line width=0.3mm, align=center, fill=yellow!10] (normadap2) at (0,2.2) {Norm};\n    \\node[block, draw, minimum width=0.5cm, minimum height=0.2cm, line width=0.3mm, align=center, fill=yellow!10] (addadap1) at (0,1.7) {Add};\n\n    \\node[block, minimum width=2cm, minimum height=0.5cm, line width=0.3mm, align=center, fill=blue!10] (ff3) at (0,1.0) {Feed \\\\ Forward Up};\n    \\node[block, minimum width=1cm, minimum height=0.5cm, line width=0.3mm, align=center, fill=blue!10] (ff2) at (0,0.2) {Feed \\\\ Forward Down};\n    \\node[block, draw, minimum width=0.5cm, minimum height=0.2cm, line width=0.3mm, align=center, fill=yellow!10] (normadap1) at (0,-0.5) {Norm};\n\n\n    \\node[block, minimum width=1cm, minimum height=0.5cm, line width=0.3mm, align=center, fill=yellow!10] (add2) at (0,-1.6) {Add \\& Norm};\n    \\node[block, minimum width=1cm, minimum height=0.5cm, line width=0.3mm, align=center, fill=blue!10] (ff1) at (0,-2.5) {Feed \\\\ Forward};\n    \\node[block, minimum width=1cm, minimum height=0.5cm, line width=0.3mm, align=center, fill=yellow!10] (add1) at (0,-3.4) {Add \\& Norm};\n    \\node[block, minimum width=1cm, minimum height=0.5cm, line width=0.3mm, align=center, fill=brown!10] (att1) at (0,-4.2) {Multi-Head \\\\ Attention};\n\n    \\draw[->, line width=0.3mm] (-1.1,-2.0) |- (addadap2);\n    \\draw[->, line width=0.3mm] (-1.1,-2.0) |- (addadap1);\n\n    \\draw[line width=0.3mm] (0,-2.0) |- (-1.1,-2.0);\n    \\draw[line width=0.3mm] (0,-1.25) |- (-1.1,-1.25);\n\n\n    \\draw[->, line width=0.3mm] (-1.5,-3.0) |- (add3);\n\n    \\draw[->, line width=0.3mm] (-1.5,-3.0) |- (add2);\n    \\draw[line width=0.3mm] (0,-3.0) |- (-1.5,-3.0);\n\n    \\draw[->, line width=0.3mm] (-1.5,-5.0) |- (add1);\n    \\draw[line width=0.3mm] (0,-5.0) |- (-1.5,-5.0);\n\n    \\draw[->, line width=0.3mm] (-0.5,-4.8) -| (0.5, -4.55);\n    \\draw[->, line width=0.3mm] (-0.5,-4.8) -| (-0.5, -4.55);\n    \\draw[->, line width=0.3mm] (0,-5.5) -- (-0,-4.55);\n\n\n    \\path[every node/.style={font=\\sffamily\\small}]\n        (att1) edge[line width=0.3mm] node [right] {} (add1)\n        (add1) edge[line width=0.3mm] node [right] {} (ff1)\n        (ff1) edge[line width=0.3mm] node [right] {} (add2)\n        (add2) edge[line width=0.3mm] node [right] {} (normadap1)\n        (normadap1) edge[line width=0.3mm] node [right] {} (ff2)\n        (ff2) edge[line width=0.3mm] node [right] {} (ff3)\n        (ff3) edge[line width=0.3mm] node [right] {} (addadap1)\n        (addadap1) edge[line width=0.3mm] node [right] {} (normadap2)\n        (normadap2) edge[line width=0.3mm] node [right] {} (addadap2)\n        (addadap2) edge[line width=0.3mm] node [right] {} (add3);\n\n\n    \\node[font=\\scriptsize\\ttfamily\\bfseries, text centered, text width=1cm] at (0.7,-0.9) {Adapter};\n\n\n\\end{tikzpicture}\n\n\\end{document}",
  "attempts": 2
}