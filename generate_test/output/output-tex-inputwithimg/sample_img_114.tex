\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{tikz}
\usetikzlibrary{matrix}

\begin{document}

\begin{center}
    \begin{tikzpicture}[node distance=0em]
        \matrix (m) [
            matrix of nodes,
            column sep={12mm,between origins},
            row sep={6mm},
            nodes={
                rectangle,
                draw,
                align=left,
                minimum height=8mm,
                text width=30mm,
                inner sep=2pt
            }
        ]
        {
            A & $i$ & $\sigma_{[n]}\backslash(A\cup i)$ & $\sigma$ \\
            \hat{A} & $A\setminus\hat{A}$ & $i$ & $\sigma'$ \\
            \hat{A} & $i$ & $A\setminus\hat{A}$ & $\sigma''$ \\
            \hat{A} & $i$ & \multicolumn{2}{c}{$\hat{\sigma}_{[n]}\backslash(\hat{A}\cup i)$} \\
        };
        \draw[dotted] (m-1-1.north east) -- (m-1-3.south east);
        \draw[dotted] (m-2-1.north east) -- (m-2-3.south east);
        \draw[dotted] (m-3-1.north east) -- (m-3-3.south east);
    \end{tikzpicture}
\end{center}

\captionof{figure}{The transitions from $\sigma$ to $\hat{\sigma}$ used in the proof of \textbf{\ref{lemma:before_still_selected}}.}

\end{document}