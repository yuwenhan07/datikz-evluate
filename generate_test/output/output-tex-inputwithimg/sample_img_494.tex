\documentclass{standalone}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\begin{document}

\begin{tikzpicture}
    \begin{axis}[
        xlabel={Batches},
        ylabel={Loss per Batch},
        width=12cm,
        height=8cm,
        legend style={at={(0.5,-0.2)}, anchor=north,legend columns=-1},
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!50},
        ticklabel style={font=\scriptsize},
        ymajorgrids=true,
        xmajorgrids=true,
        xmin=0,
        xmax=8000,
        ymin=0,
        ymax=2.5,
        xtick={1000,2000,3000,4000,5000,6000,7000,8000},
        ytick={0,0.5,1,1.5,2,2.5},
        scaled ticks=false,
        clip=false,
        enlargelimits=false,
        smooth,
        every axis legend/.append style={
            font=\footnotesize
        }
    ]
        
        % Assuming the data is in the form of a TikZ node list
        \pgfplotstableread{
            X1 Y1
            1 2.3
            2 1.9
            3 1.6
            4 1.3
            5 1.2
            6 1.1
            7 1.0
            8 0.9
            9 0.8
            10 0.7
            
            X2 Y2
            1 2.2
            2 1.8
            3 1.5
            4 1.3
            5 1.1
            6 1.0
            7 0.9
            8 0.8
            9 0.7
            10 0.6
            
            % Add more peers as needed
        }\data

        \addplot [color=red] table [x=X1, y=Y1] {\data};
        \addlegendentry{Peer 1}
        
        \addplot [color=blue] table [x=X2, y=Y2] {\data};
        \addlegendentry{Peer 2}
        
        % Add more plots as needed
        
    \end{axis}
\end{tikzpicture}

\end{document}