\documentclass{article}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\begin{document}

\begin{figure}[h]
    \centering
    \begin{tikzpicture}
        \begin{axis}[
            xlabel={time},
            ylabel={input},
            xmin=-1, xmax=1,
            ymin=-0.7, ymax=0.7,
            xtick={-1, 0, 1},
            ytick={-0.5, 0, 0.5},
            legend pos=north east,
            legend cell align=left,
            legend style={nodes={right}}
        ]
            \addplot[mark=*, dashed, black] coordinates {
                (-1, 0.5)
                (-0.9, 0.48)
                (-0.8, 0.46)
                (-0.7, 0.44)
                (-0.6, 0.42)
                (-0.5, 0.4)
                (-0.4, 0.38)
                (-0.3, 0.36)
                (-0.2, 0.34)
                (-0.1, 0.32)
                (0, 0.3)
                (0.1, 0.28)
                (0.2, 0.26)
                (0.3, 0.24)
                (0.4, 0.22)
                (0.5, 0.2)
                (0.6, 0.18)
                (0.7, 0.16)
                (0.8, 0.14)
                (0.9, 0.12)
                (1, 0.1)
            };
            \addlegendentry{$u^\star$}
            
            \addplot[mark=square*, red] coordinates {
                (-1, -0.5)
                (-0.9, -0.48)
                (-0.8, -0.46)
                (-0.7, -0.44)
                (-0.6, -0.42)
                (-0.5, -0.4)
                (-0.4, -0.38)
                (-0.3, -0.36)
                (-0.2, -0.34)
                (-0.1, -0.32)
                (0, -0.3)
                (0.1, -0.28)
                (0.2, -0.26)
                (0.3, -0.24)
                (0.4, -0.22)
                (0.5, -0.2)
                (0.6, -0.18)
                (0.7, -0.16)
                (0.8, -0.14)
                (0.9, -0.12)
                (1, -0.1)
            };
            \addlegendentry{$u^3$}
            
            \addplot[mark=+, brown] coordinates {
                (-1, -0.5)
                (-0.9, -0.48)
                (-0.8, -0.46)
                (-0.7, -0.44)
                (-0.6, -0.42)
                (-0.5, -0.4)
                (-0.4, -0.38)
                (-0.3, -0.36)
                (-0.2, -0.34)
                (-0.1, -0.32)
                (0, -0.3)
                (0.1, -0.28)
                (0.2, -0.26)
                (0.3, -0.24)
                (0.4, -0.22)
                (0.5, -0.2)
                (0.6, -0.18)
                (0.7, -0.16)
                (0.8, -0.14)
                (0.9, -0.12)
                (1, -0.1)
            };
            \addlegendentry{$u^4$}
            
            \addplot[mark=x, blue] coordinates {
                (-1, 0.5)
                (-0.9, 0.48)
                (-0.8, 0.46)
                (-0.7, 0.44)
                (-0.6, 0.42)
                (-0.5, 0.4)
                (-0.4, 0.38)
                (-0.3, 0.36)
                (-0.2, 0.34)
                (-0.1, 0.32)
                (0, 0.3)
                (0.1, 0.28)
                (0.2, 0.26)
                (0.3, 0.24)
                (0.4, 0.22)
                (0.5, 0.2)
                (0.6, 0.18)
                (0.7, 0.16)
                (0.8, 0.14)
                (0.9, 0.12)
                (1, 0.1)
            };
            \addlegendentry{$u^2$}
            
            \addplot[mark=*, dashed, black] coordinates {
                (-1, 0.5)
                (-0.9, 0.48)
                (-0.8, 0.46)
                (-0.7, 0.44)
                (-0.6, 0.42)
                (-0.5, 0.4)
                (-0.4, 0.38)
                (-0.3, 0.36)
                (-0.2, 0.34)
                (-0.1, 0.32)
                (0, 0.3)
                (0.1, 0.28)
                (0.2, 0.26)
                (0.3, 0.24)
                (0.4, 0.22)
                (0.5, 0.2)
                (0.6, 0.18)
                (0.7, 0.16)
                (0.8, 0.14)
                (0.9, 0.12)
                (1, 0.1)
            };
            \addlegendentry{$x^\star$}
            
            \addplot[mark=square*, red] coordinates {
                (-1, -0.5)
                (-0.9, -0.48)
                (-0.8, -0.46)
                (-0.7, -0.44)
                (-0.6, -0.42)
                (-0.5, -0.4)
                (-0.4, -0.38)
                (-0.3, -0.36)
                (-0.2, -0.34)
                (-0.1, -0.32)
                (0, -0.3)
                (0.1, -0.28)
                (0.2, -0.26)
                (0.3, -0.24)
                (0.4, -0.22)
                (0.5, -0.2)
                (0.6, -0.18)
                (0.7, -0.16)
                (0.8, -0.14)
                (0.9, -0.12)
                (1, -0.1)
            };
            \addlegendentry{$x^3$}
            
            \addplot[mark=+, brown] coordinates {
                (-1, -0.5)
                (-0.9, -0.48)
                (-0.8, -0.46)
                (-0.7, -0.44)
                (-0.6, -0.42)
                (-0.5, -0.4)
                (-0.4, -0.38)
                (-0.3, -0.36)
                (-0.2, -0.34)
                (-0.1, -0.32)
                (0, -0.3)
                (0.1, -0.28)
                (0.2, -0.26)
                (0.3, -0.24)
                (0.4, -0.22)
                (0.5, -0.2)
                (0.6, -0.18)
                (0.7, -0.16)
                (0.8, -0.14)
                (0.9, -0.12)
                (1, -0.1)
            };
            \addlegendentry{$x^4$}
            
            \addplot[mark=x, blue] coordinates {
                (-1, 0.5)
                (-0.9, 0.48)
                (-0.8, 0.46)
                (-0.7, 0.44)
                (-0.6, 0.42)
                (-0.5, 0.4)
                (-0.4, 0.38)
                (-0.3, 0.36)
                (-0.2, 0.34)
                (-0.1, 0.32)
                (0, 0.3)
                (0.1, 0.28)
                (0.2, 0.26)
                (0.3, 0.24)
                (0.4, 0.22)
                (0.5, 0.2)
                (0.6, 0.18)
                (0.7, 0.16)
                (0.8, 0.14)
                (0.9, 0.12)
                (1, 0.1)
            };
            \addlegendentry{$x^2$}
        \end{axis}
    \end{tikzpicture}
    
    \begin{tikzpicture}
        \begin{axis}[
            xlabel={time},
            ylabel={state},
            xmin=-1, xmax=1,
            ymin=-0.7, ymax=0.7,
            xtick={-1, 0, 1},
            ytick={-0.5, 0, 0.5},
            legend pos=north east,
            legend cell align=left,
            legend style={nodes={right}}
        ]
            \addplot[mark=*, dashed, black] coordinates {
                (-1, 1)
                (-0.9, 0.98)
                (-0.8, 0.96)
                (-0.7, 0.94)
                (-0.6, 0.92)
                (-0.5, 0.9)
                (-0.4, 0.88)
                (-0.3, 0.86)
                (-0.2, 0.84)
                (-0.1, 0.82)
                (0, 0.8)
                (0.1, 0.78)
                (0.2, 0.76)
                (0.3, 0.74)
                (0.4, 0.72)
                (0.5, 0.7)
                (0.6, 0.68)
                (0.7, 0.66)
                (0.8, 0.64)
                (0.9, 0.62)
                (1, 0.6)
            };
            \addlegendentry{$x^\star$}
            
            \addplot[mark=square*, red] coordinates {
                (-1, 1)
                (-0.9, 0.98)
                (-0.8, 0.96)
                (-0.7, 0.94)
                (-0.6, 0.92)
                (-0.5, 0.9)
                (-0.4, 0.88)
                (-0.3, 0.86)
                (-0.2, 0.84)
                (-0.1, 0.82)
                (0, 0.8)
                (0.1, 0.78)
                (0.2, 0.76)
                (0.3, 0.74)
                (0.4, 0.72)
                (0.5, 0.7)
                (0.6, 0.68)
                (0.7, 0.66)
                (0.8, 0.64)
                (0.9, 0.62)
                (1, 0.6)
            };
            \addlegendentry{$x^3$}
            
            \addplot[mark=+, brown] coordinates {
                (-1, 1)
                (-0.9, 0.98)
                (-0.8, 0.96)
                (-0.7, 0.94)
                (-0.6, 0.92)
                (-0.5, 0.9)
                (-0.4, 0.88)
                (-0.3, 0.86)
                (-0.2, 0.84)
                (-0.1, 0.82)
                (0, 0.8)
                (0.1, 0.78)
                (0.2, 0.76)
                (0.3, 0.74)
                (0.4, 0.72)
                (0.5, 0.7)
                (0.6, 0.68)
                (0.7, 0.66)
                (0.8, 0.64)
                (0.9, 0.62)
                (1, 0.6)
            };
            \addlegendentry{$x^4$}
            
            \addplot[mark=x, blue] coordinates {
                (-1, 1)
                (-0.9, 0.98)
                (-0.8, 0.96)
                (-0.7, 0.94)
                (-0.6, 0.92)
                (-0.5, 0.9)
                (-0.4, 0.88)
                (-0.3, 0.86)
                (-0.2, 0.84)
                (-0.1, 0.82)
                (0, 0.8)
                (0.1, 0.78)
                (0.2, 0.76)
                (0.3, 0.74)
                (0.4, 0.72)
                (0.5, 0.7)
                (0.6, 0.68)
                (0.7, 0.66)
                (0.8, 0.64)
                (0.9, 0.62)
                (1, 0.6)
            };
            \addlegendentry{$x^2$}
        \end{axis}
    \end{tikzpicture}
    
    \caption{The optimal trajectory $w^\star=\operatorname{col}(u^\star,x^\star)$ (dashed, black) and approximative optimal trajectories $w^N=\operatorname{col}(u^N,x^N)$ for $N=2,3,4,5$.}
\end{figure}

\end{document}