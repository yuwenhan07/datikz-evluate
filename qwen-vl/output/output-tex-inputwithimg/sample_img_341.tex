To generate LaTeX code for the provided image and caption, you can use the `tikz` package to draw the diagram and the `amsmath` package for mathematical expressions. Below is the LaTeX code that generates the image and the corresponding caption:

```latex
\documentclass{article}
\usepackage{amsmath}
\usepackage{tikz}
\usetikzlibrary{arrows.meta}

\begin{document}

\begin{figure}[h]
    \centering
    \begin{tikzpicture}[scale=0.7]
        % Axes
        \draw[->] (0,0) -- (9,0) node[right] {$x_1$};
        \draw[->] (0,0) -- (0,9) node[above] {$x_2$};
        
        % Grid lines
        \foreach \x in {0,...,8} {
            \draw[dotted] (\x,0) -- (\x,9);
            \draw[dotted] (0,\x) -- (9,\x);
        }
        
        % Rectangles
        \draw[red, thick] (1,2) rectangle (5,5) node[midway, above right] {$R_4 = [1, 5] \times [2, 5]$};
        \draw[blue, thick] (4,0) rectangle (8,4) node[midway, below right] {$R_5 = [4, 8] \times [0, 4]$};
        \draw[green, thick] (0,3) rectangle (2,6) node[midway, left] {$R_1 = [0, 2] \times [0, 3]$};
        \draw[orange, thick] (2,0) rectangle (4,1) node[midway, below] {$R_3 = [2, 5] \times [0, 1]$};
        \draw[black, thick] (0,6) rectangle (2,8) node[midway, left] {$R_2 = [0, 2] \times [4, 8]$};
        
        % Points
        \filldraw[black] (0,0) circle (2pt);
        \filldraw[black] (1,0) circle (2pt);
        \filldraw[black] (2,0) circle (2pt);
        \filldraw[black] (3,0) circle (2pt);
        \filldraw[black] (4,0) circle (2pt);
        \filldraw[black] (5,0) circle (2pt);
        \filldraw[black] (6,0) circle (2pt);
        \filldraw[black] (7,0) circle (2pt);
        \filldraw[black] (8,0) circle (2pt);
        
        \filldraw[black] (0,1) circle (2pt);
        \filldraw[black] (1,1) circle (2pt);
        \filldraw[black] (2,1) circle (2pt);
        \filldraw[black] (3,1) circle (2pt);
        \filldraw[black] (4,1) circle (2pt);
        \filldraw[black] (5,1) circle (2pt);
        \filldraw[black] (6,1) circle (2pt);
        \filldraw[black] (7,1) circle (2pt);
        \filldraw[black] (8,1) circle (2pt);
        
        \filldraw[black] (0,2) circle (2pt);
        \filldraw[black] (1,2) circle (2pt);
        \filldraw[black] (2,2) circle (2pt);
        \filldraw[black] (3,2) circle (2pt);
        \filldraw[black] (4,2) circle (2pt);
        \filldraw[black] (5,2) circle (2pt);
        \filldraw[black] (6,2) circle (2pt);
        \filldraw[black] (7,2) circle (2pt);
        \filldraw[black] (8,2) circle (2pt);
        
        \filldraw[black] (0,3) circle (2pt);
        \filldraw[black] (1,3) circle (2pt);
        \filldraw[black] (2,3) circle (2pt);
        \filldraw[black] (3,3) circle (2pt);
        \filldraw[black] (4,3) circle (2pt);
        \filldraw[black] (5,3) circle (2pt);
        \filldraw[black] (6,3) circle (2pt);
        \filldraw[black] (7,3) circle (2pt);
        \filldraw[black] (8,3) circle (2pt);
        
        \filldraw[black] (0,4) circle (2pt);
        \filldraw[black] (1,4) circle (2pt);
        \filldraw[black] (2,4) circle (2pt);
        \filldraw[black] (3,4) circle (2pt);
        \filldraw[black] (4,4) circle (2pt);
        \filldraw[black] (5,4) circle (2pt);
        \filldraw[black] (6,4) circle (2pt);
        \filldraw[black] (7,4) circle (2pt);
        \filldraw[black] (8,4) circle (2pt);
        
        \filldraw[black] (0,5) circle (2pt);
        \filldraw[black] (1,5) circle (2pt);
        \filldraw[black] (2,5) circle (2pt);
        \filldraw[black] (3,5) circle (2pt);
        \filldraw[black] (4,5) circle (2pt);
        \filldraw[black] (5,5) circle (2pt);
        \filldraw[black] (6,5) circle (2pt);
        \filldraw[black] (7,5) circle (2pt);
        \filldraw[black] (8,5) circle (2pt);
        
        \filldraw[black] (0,6) circle (2pt);
        \filldraw[black] (1,6) circle (2pt);
        \filldraw[black] (2,6) circle (2pt);
        \filldraw[black] (3,6) circle (2pt);
        \filldraw[black] (4,6) circle (2pt);
        \filldraw[black] (5,6) circle (2pt);
        \filldraw[black] (6,6) circle (2pt);
        \filldraw[black] (7,6) circle (2pt);
        \filldraw[black] (8,6) circle (2pt);
        
        \filldraw[black] (0,7) circle (2pt);
        \filldraw[black] (1,7) circle (2pt);
        \filldraw[black] (2,7) circle (2pt);
        \filldraw[black] (3,7) circle (2pt);
        \filldraw[black] (4,7) circle (2pt);
        \filldraw[black] (5,7) circle (2pt);
        \filldraw[black] (6,7) circle (2pt);
        \filldraw[black] (7,7) circle (2pt);
        \filldraw[black] (8,7) circle (2pt);
        
        \filldraw[black] (0,8) circle (2pt);
        \filldraw[black] (1,8) circle (2pt);
        \filldraw[black] (2,8) circle (2pt);
        \filldraw[black] (3,8) circle (2pt);
        \filldraw[black] (4,8) circle (2pt);
        \filldraw[black] (5,8) circle (2pt);
        \filldraw[black] (6,8) circle (2pt);
        \filldraw[black] (7,8) circle (2pt);
        \filldraw[black] (8,8) circle (2pt);
        
        % Labels
        \node at (-0.5, 8) {$(0,8)$};
        \node at (-0.5, 0) {$(0,0)$};
        \node at (8.5, -0.5) {$(8,0)$};
        
        \node at (-0.5, 6) {$R_2 = [0, 2] \times [4, 8]$};
        \node at (-0.5, 3) {$R_1 = [0, 2] \times [0, 3]$};
        \node at (-0.5, 0) {$R_3 = [2, 5] \times [0, 1]$};
        \node at (6.5, 5) {$R_4 = [1, 5] \times [2, 5]$};
        \node at (8.5, 2) {$R_5 = [4, 8] \times [0, 4]$};
        
        \node at (-0.5, 2) {$\phi_t(2,0) = 4$};
        \node at (-0.5, 5) {$\phi_t(2,3) = 3$};
        
        % Arrows
        \draw[<->, dashed] (0, 2) -- (2, 2) node[midway, below] {};
        \draw[<->, dashed] (0, 5) -- (2, 5) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 2) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (0, 5) node[midway, left] {};
        
        \draw[<->, dashed] (0, 0) -- (2, 0) node[midway, below] {};
        \draw[<->, dashed] (0, 0) -- (5, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 8) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (8, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 6) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (6, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 3) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (3, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 4) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (4, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 1) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (1, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 8) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (8, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 6) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (6, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 3) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (3, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 4) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (4, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 1) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (1, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 8) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (8, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 6) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (6, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 3) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (3, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 4) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (4, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 1) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (1, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 8) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (8, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 6) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (6, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 3) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (3, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 4) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (4, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 1) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (1, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 8) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (8, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 6) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (6, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 3) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (3, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 4) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (4, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 1) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (1, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 8) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (8, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 6) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (6, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 3) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (3, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 4) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (4, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0, 0) -- (0, 1) node[midway, left] {};
        \draw[<->, dashed] (0, 0) -- (1, 0) node[midway, below] {};
        
        \draw[<->, dashed] (0,