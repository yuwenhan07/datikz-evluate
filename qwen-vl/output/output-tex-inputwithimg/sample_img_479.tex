\documentclass{article}
\usepackage{tikz}
\usetikzlibrary{matrix}

\begin{document}

\begin{tikzpicture}[node distance=1cm]
    \matrix (left) [matrix of nodes, row sep=0.5cm, column sep=0.5cm] {
        \draw[fill=gray!20] circle (0.5cm) node {$A1$}; & \draw[fill=gray!20] circle (0.5cm) node {$A2$}; \\
        \draw[fill=gray!20] circle (0.5cm) node {$A1$}; & \draw[fill=gray!20] circle (0.5cm) node {$A2$}; \\
        \draw[fill=gray!20] circle (0.5cm) node {$A1$}; & \draw[fill=gray!20] circle (0.5cm) node {$A2$}; \\
    };
    \draw[dotted] (-3,-1) -- (-3,1);
    \draw[dotted] (3,-1) -- (3,1);
    \draw[->] (left-1-1) -- (left-2-1);
    \draw[->] (left-1-2) -- (left-2-2);
    \draw[->] (left-2-1) -- (left-3-1);
    \draw[->] (left-2-2) -- (left-3-2);

    \matrix (right) [matrix of nodes, row sep=0.5cm, column sep=0.5cm, right=2cm of left] {
        \draw[fill=gray!20] circle (0.5cm) node {$A1$}; & \draw[fill=gray!20] circle (0.5cm) node {$A2$}; \\
        \draw[fill=gray!20] circle (0.5cm) node {$A1$}; & \draw[fill=gray!20] circle (0.5cm) node {$A2$}; \\
        \draw[fill=gray!20] circle (0.5cm) node {$A1$}; & \draw[fill=gray!20] circle (0.5cm) node {$A2$}; \\
    };
    \draw[dotted] (-3,-1) -- (-3,1);
    \draw[dotted] (3,-1) -- (3,1);
    \draw[->] (right-1-1) -- (right-2-1);
    \draw[->] (right-1-2) -- (right-2-2);
    \draw[->] (right-2-1) -- (right-3-1);
    \draw[->] (right-2-2) -- (right-3-2);
\end{tikzpicture}

\end{document}