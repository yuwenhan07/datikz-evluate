python
import numpy as np
import matplotlib.pyplot as plt

# Define the parameters
theta_values = np.linspace(0, 2 * np.pi, 100)
g_values = theta_values - np.pi / 4
n_values = [5, 10, 15]  # Different values of n to see the trend

# Function to calculate the non-local Stabilizer Renyi Entropy M2
def calculate_M2(theta, n):
    # Assuming a simple model for the system (e.g., a quantum Ising model)
    # This is a placeholder function; replace it with your actual calculation
    H = -np.sum(np.cos(theta))  # Example Hamiltonian term
    rho_A = np.eye(2**n) / (2**n)  # Initial density matrix
    # Calculate the reduced density matrix and then the entropy
    return np.log2(np.trace(rho_A))

# Calculate M2 for each n and g
M2_values = []
for n in n_values:
    M2_n = np.zeros_like(g_values)
    for i, g in enumerate(g_values):
        theta = g + np.pi / 4  # Convert g back to theta
        M2_n[i] = calculate_M2(theta, n)
    M2_values.append(M2_n)

# Plotting
plt.figure(figsize=(10, 6))
for i, n in enumerate(n_values):
    plt.plot(g_values, M2_values[i], label=f'n = {n}')

plt.xlabel('g = θ - π/4')
plt.ylabel('Non-Local Stabilizer Renyi Entropy M2')
plt.title('Plot of Non-Local Stabilizer Renyi Entropy M2 vs. Parameter g for Different Total Spins n')
plt.legend()
plt.grid(True)
plt.show()