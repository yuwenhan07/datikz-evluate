{
  "prompt": "Left: Data generation pipeline. Right: The fine-tuned network $q_\\theta$ learns to do inference in a graphical model where the prior over programs, $\\mathcal{G}$, is defined by prompting an LLM with example code in $\\mathcal{D}_\\text{seed}$, while the likelihood $p(Y|\\rho, X)$ is defined by program execution.",
  "response": "Sure! Below is the LaTeX code for the image and caption you provided:\n\n```latex\n\\documentclass{article}\n\\usepackage{tikz}\n\\usetikzlibrary{arrows.meta, positioning}\n\n\\begin{document}\n\n\\begin{figure}[h]\n    \\centering\n    \\begin{tikzpicture}[node distance=1cm, auto]\n        % Define nodes\n        \\node[draw, align=center] (D_seed) {$\\mathcal{D}_{\\text{seed}}$};\n        \\node[draw, right=of D_seed] (G) {$g$};\n        \\node[draw, right=of G] (D_train) {$\\mathcal{D}_{\\text{train}}$};\n        \\node[draw, right=of D_train] (W) {$w$};\n\n        % Draw edges\n        \\path[->] (D_seed) edge node {defines} (G);\n        \\path[->] (G) edge node {samples} (D_train);\n        \\path[->] (D_train) edge node {trains} (W);\n    \\end{tikzpicture}\n    \\hspace{2cm}\n    \\begin{tikzpicture}[node distance=1cm, auto]\n        % Define nodes\n        \\node[draw, circle] (G) {$\\mathcal{G}$};\n        \\node[draw, circle, right=of G] (X) {$X$};\n        \\node[draw, circle, above right=of X] (rho) {$\\rho$};\n        \\node[draw, circle, right=of X] (Y) {$Y$};\n\n        % Draw edges\n        \\path[->] (G) edge node {} (X);\n        \\path[->] (G) edge node {} (rho);\n        \\path[->] (rho) edge node {} (Y);\n        \\path[->] (X) edge node {} (Y);\n    \\end{tikzpicture}\n    \n    \\caption{Left: Data generation pipeline. Right: The fine-tuned network $q_\\theta$ learns to do inference in a graphical model where the prior over programs, $\\mathcal{G}$, is defined by prompting an LLM with example code in $\\mathcal{D}_\\text{seed}$, while the likelihood $p(Y|\\rho, X)$ is defined by program execution.}\n\\end{figure}\n\n\\end{document}\n```\n\nThis code will produce two side-by-side diagrams as shown in your description. The left diagram represents the data generation pipeline, and the right diagram illustrates the graphical model used for inference.",
  "latex_code": "\\documentclass{article}\n\\usepackage{tikz}\n\\usetikzlibrary{arrows.meta, positioning}\n\n\\begin{document}\n\n\\begin{figure}[h]\n    \\centering\n    \\begin{tikzpicture}[node distance=1cm, auto]\n        % Define nodes\n        \\node[draw, align=center] (D_seed) {$\\mathcal{D}_{\\text{seed}}$};\n        \\node[draw, right=of D_seed] (G) {$g$};\n        \\node[draw, right=of G] (D_train) {$\\mathcal{D}_{\\text{train}}$};\n        \\node[draw, right=of D_train] (W) {$w$};\n\n        % Draw edges\n        \\path[->] (D_seed) edge node {defines} (G);\n        \\path[->] (G) edge node {samples} (D_train);\n        \\path[->] (D_train) edge node {trains} (W);\n    \\end{tikzpicture}\n    \\hspace{2cm}\n    \\begin{tikzpicture}[node distance=1cm, auto]\n        % Define nodes\n        \\node[draw, circle] (G) {$\\mathcal{G}$};\n        \\node[draw, circle, right=of G] (X) {$X$};\n        \\node[draw, circle, above right=of X] (rho) {$\\rho$};\n        \\node[draw, circle, right=of X] (Y) {$Y$};\n\n        % Draw edges\n        \\path[->] (G) edge node {} (X);\n        \\path[->] (G) edge node {} (rho);\n        \\path[->] (rho) edge node {} (Y);\n        \\path[->] (X) edge node {} (Y);\n    \\end{tikzpicture}\n    \n    \\caption{Left: Data generation pipeline. Right: The fine-tuned network $q_\\theta$ learns to do inference in a graphical model where the prior over programs, $\\mathcal{G}$, is defined by prompting an LLM with example code in $\\mathcal{D}_\\text{seed}$, while the likelihood $p(Y|\\rho, X)$ is defined by program execution.}\n\\end{figure}\n\n\\end{document}",
  "ground_truth": "\\documentclass{article}\n\\usepackage[color=red]{todonotes}\n\\usepackage[utf8]{inputenc}\n\\usepackage[T1]{fontenc}\n\\usepackage{tikz}\n\\usetikzlibrary{bayesnet}\n\\usepackage{amsmath}\n\\usepackage{xcolor}\n\n\\newcommand{\\program}{\\rho}\n\n\\newcommand{\\inputs}{X}\n\n\\newcommand{\\outputs}{Y}\n\n\\begin{document}\n\n\\begin{tikzpicture}\n    \\node[draw] (s) {$\\mathcal{D}_\\text{seed}$};\n    \\node[draw, right=of s, xshift=0.3cm] (g2) {$\\mathcal{G}$};\n    \\draw[->] (s) -- node [above,midway] {\\small defines} (g2);\n    \\node[draw, right=of g2, xshift=0.3cm](t) {$\\mathcal{D}_\\text{tune}$};\n    \\draw[->] (g2) -- node [above,midway] {\\small samples} (t);\n    \\node[draw, right=of t, xshift=0.2cm] (lm) {$q_\\theta$};\n    \\draw[->] (t) -- node [above,midway] {\\small trains} (lm);\n        \n    \\node[latent, right=of lm, xshift=1.2cm] (g) {$\\mathcal{G}$} ; %\n    \\node[latent, right=of g, yshift=0.6cm] (p){$\\program$};\n    \\node[obs, right=of g, yshift=-0.6cm] (x){$\\inputs$};\n    \\node[obs, right=of p, yshift=-0.6cm] (y){$\\outputs$};\n    \\edge[->] {g} {p};\n    \\edge[->] {g} {x};\n    \\edge[->] {p,x} {y};\n\\end{tikzpicture}\n\n\\end{document}"
}