{
  "prompt": "Geometrical equivalence of the Ewald sphere curvature (blue) and the first Born approximation of the multislice formalism (black). The black curve represents the complex-valued exitwave, $\\psi_\\mathrm{exit}$, that is mapped onto a paraboloid in Fourier space (Eq.~\\eqref{eq:equiv}). At a small angle, $\\theta\\approx \\lambda k$, the surface of the paraboloid approaches that of the Ewald sphere since $k_z = \\tan \\frac{\\theta}{2} \\approx \\frac{k\\theta}{2} = \\frac{\\lambda k^2}{2}$. For example, for a \\SI{200}{\\keV} electron beam ($\\lambda\\approx$ \\SI{0.025}{\\angstrom}) and $k=$\\SI{1}{\\angstrom^{-1}}, the angle is $\\theta\\approx$ \\SI{0.025}{\\radian}.",
  "response": "The geometrical equivalence you're referring to pertains to the relationship between the Ewald sphere curvature and the first Born approximation of the multislice formalism in X-ray crystallography. This equivalence is particularly useful in understanding how X-rays diffract off a crystal lattice.\n\n### Ewald Sphere:\nThe Ewald sphere is a geometric representation used in reciprocal space analysis. It is a sphere in reciprocal space with its center at the origin and radius equal to the magnitude of the reciprocal lattice vector \\( \\mathbf{G} \\). The intersection of this sphere with the reciprocal lattice plane gives the positions of the diffraction peaks.\n\n### First Born Approximation:\nIn the context of the multislice formalism, the first Born approximation is an approximation where the exit wave function \\( \\psi_{\\text{exit}} \\) is calculated by summing the contributions from each slice of the crystal. The exit wave function can be expressed as:\n\n\\[ \\psi_{\\text{exit}}(\\mathbf{r}) = \\sum_{n} \\psi_n(\\mathbf{r}) e^{i \\mathbf{G}_n \\cdot \\mathbf{r}} \\]\n\nwhere \\( \\psi_n(\\mathbf{r}) \\) is the wave function at the nth slice, and \\( \\mathbf{G}_n \\) is the reciprocal lattice vector corresponding to that slice.\n\n### Paraboloid Approximation:\nThe exit wave function \\( \\psi_{\\text{exit}} \\) can be approximated by a paraboloid in Fourier space. This approximation is valid when the angle \\( \\theta \\) between the incident X-ray beam and the normal to the crystal surface is small. In this case, the \\( z \\)-component of the wavevector \\( k_z \\) can be approximated as:\n\n\\[ k_z \\approx \\tan \\left( \\frac{\\theta}{2} \\right) \\approx \\frac{k \\theta}{2} \\]\n\nwhere \\( k \\) is the wavevector of the X-ray beam and \\( \\theta \\) is the angle between the X-ray beam and the normal to the crystal surface.\n\n### Equivalence:\nFor small angles \\( \\theta \\), the surface of the paraboloid in Fourier space approaches that of the Ewald sphere. This is because the paraboloid's equation in Fourier space can be written as:\n\n\\[ k_x^2 + k_y^2 + k_z^2 \\approx 4 k^2 \\left( \\frac{k \\theta}{2} \\right)^2 \\]\n\nwhich simplifies to:\n\n\\[ k_x^2 + k_y^2 + k_z^2 \\approx 2 k^2 \\theta^2 \\]\n\nThis is very similar to the equation of the Ewald sphere in reciprocal space:\n\n\\[ k_x^2 + k_y^2 + k_z^2 = 4 \\pi^2 |\\mathbf{G}|^2 \\]\n\nwhere \\( |\\mathbf{G}| \\) is the magnitude of the reciprocal lattice vector.\n\n### Example Calculation:\nFor a 200 keV electron beam (\\( \\lambda \\approx 0.025 \\, \\text{\\AA} \\)) and \\( k = 1 \\, \\text{\\AA}^{-1} \\):\n\n- The wavelength \\( \\lambda \\) is approximately \\( 0.025 \\, \\text{\\AA} \\).\n- The wavevector \\( k \\) is \\( 1 \\, \\text{\\AA}^{-1} \\).\n\nThe angle \\( \\theta \\) is given by:\n\n\\[ \\theta \\approx \\frac{\\lambda k}{2} = \\frac{0.025 \\times 1}{2} = 0.0125 \\, \\text{radians} \\]\n\nThis small angle ensures that the paraboloid approximation closely matches the Ewald sphere geometry, making it a good approximation for the exit wave function in the first Born approximation of the multislice formalism.\n\n### Conclusion:\nThe geometrical equivalence between the Ewald sphere curvature and the first Born approximation of the multislice formalism is valid for small angles between the X-ray beam and the crystal surface. This equivalence simplifies the calculations in X-ray crystallography by allowing the use of paraboloid approximations instead of solving the full Ewald sphere equations.",
  "latex_code": "The geometrical equivalence you're referring to pertains to the relationship between the Ewald sphere curvature and the first Born approximation of the multislice formalism in X-ray crystallography. This equivalence is particularly useful in understanding how X-rays diffract off a crystal lattice.\n\n### Ewald Sphere:\nThe Ewald sphere is a geometric representation used in reciprocal space analysis. It is a sphere in reciprocal space with its center at the origin and radius equal to the magnitude of the reciprocal lattice vector \\( \\mathbf{G} \\). The intersection of this sphere with the reciprocal lattice plane gives the positions of the diffraction peaks.\n\n### First Born Approximation:\nIn the context of the multislice formalism, the first Born approximation is an approximation where the exit wave function \\( \\psi_{\\text{exit}} \\) is calculated by summing the contributions from each slice of the crystal. The exit wave function can be expressed as:\n\n\\[ \\psi_{\\text{exit}}(\\mathbf{r}) = \\sum_{n} \\psi_n(\\mathbf{r}) e^{i \\mathbf{G}_n \\cdot \\mathbf{r}} \\]\n\nwhere \\( \\psi_n(\\mathbf{r}) \\) is the wave function at the nth slice, and \\( \\mathbf{G}_n \\) is the reciprocal lattice vector corresponding to that slice.\n\n### Paraboloid Approximation:\nThe exit wave function \\( \\psi_{\\text{exit}} \\) can be approximated by a paraboloid in Fourier space. This approximation is valid when the angle \\( \\theta \\) between the incident X-ray beam and the normal to the crystal surface is small. In this case, the \\( z \\)-component of the wavevector \\( k_z \\) can be approximated as:\n\n\\[ k_z \\approx \\tan \\left( \\frac{\\theta}{2} \\right) \\approx \\frac{k \\theta}{2} \\]\n\nwhere \\( k \\) is the wavevector of the X-ray beam and \\( \\theta \\) is the angle between the X-ray beam and the normal to the crystal surface.\n\n### Equivalence:\nFor small angles \\( \\theta \\), the surface of the paraboloid in Fourier space approaches that of the Ewald sphere. This is because the paraboloid's equation in Fourier space can be written as:\n\n\\[ k_x^2 + k_y^2 + k_z^2 \\approx 4 k^2 \\left( \\frac{k \\theta}{2} \\right)^2 \\]\n\nwhich simplifies to:\n\n\\[ k_x^2 + k_y^2 + k_z^2 \\approx 2 k^2 \\theta^2 \\]\n\nThis is very similar to the equation of the Ewald sphere in reciprocal space:\n\n\\[ k_x^2 + k_y^2 + k_z^2 = 4 \\pi^2 |\\mathbf{G}|^2 \\]\n\nwhere \\( |\\mathbf{G}| \\) is the magnitude of the reciprocal lattice vector.\n\n### Example Calculation:\nFor a 200 keV electron beam (\\( \\lambda \\approx 0.025 \\, \\text{\\AA} \\)) and \\( k = 1 \\, \\text{\\AA}^{-1} \\):\n\n- The wavelength \\( \\lambda \\) is approximately \\( 0.025 \\, \\text{\\AA} \\).\n- The wavevector \\( k \\) is \\( 1 \\, \\text{\\AA}^{-1} \\).\n\nThe angle \\( \\theta \\) is given by:\n\n\\[ \\theta \\approx \\frac{\\lambda k}{2} = \\frac{0.025 \\times 1}{2} = 0.0125 \\, \\text{radians} \\]\n\nThis small angle ensures that the paraboloid approximation closely matches the Ewald sphere geometry, making it a good approximation for the exit wave function in the first Born approximation of the multislice formalism.\n\n### Conclusion:\nThe geometrical equivalence between the Ewald sphere curvature and the first Born approximation of the multislice formalism is valid for small angles between the X-ray beam and the crystal surface. This equivalence simplifies the calculations in X-ray crystallography by allowing the use of paraboloid approximations instead of solving the full Ewald sphere equations.",
  "ground_truth": "\\documentclass{article}\n\\usepackage[utf8]{inputenc}\n\\usepackage[T1]{fontenc}\n\\usepackage{tikz, pgfplots}\n\\usetikzlibrary{angles}\n\n\\begin{document}\n\n\\begin{tikzpicture}\n    %circle\n    \\draw[very thick, blue] (0,0) circle (3);\n\n    %1/lambda\n    \\draw[<->] (-40:2.9) -- node[midway,fill=white] {$\\frac{1}{\\lambda}$} (0.2,0.2);\n    \\draw[<->] (-0.25,-0.05) -- node[midway,fill=white] {$\\frac{1}{\\lambda}$} (-0.25,-2.95);\n\n    %axes\n    \\draw[->] (0,-3) -- (0,3.2) node[above] {$k_z$};\n    \\draw[->] (-3,-3) -- (3,-3) node[right] {$k$};\n\n    %black points\n    \\draw[fill=black] (0,0) circle (0.05);\n    \\draw[fill=black] (0,-3) circle (0.05) node[below] {$(0,0)$};\n    \\draw[fill=red] (-45:3) circle (0.08) node[right, yshift=-0.25cm] {$(k,k_z)$};\n    \\draw[fill=black] (2.12,-3) circle (0.05) node[below] {$(k,0)$};\n    \\draw[fill=black] (0,-2.12) circle (0.05) node[left, xshift=-0.2cm] {$(0,k_z)$};\n\n    %diagonal solid line joining black points\n    \\draw[](0,0) -- (-45:3);\n\n    %dashed lines\n    \\draw[dashed] (2.12,-3) -- (-45:3);\n    \\draw[dashed] (0,-2.12) -- (-45:3);\n    \\draw[dashed](0,-3) -- (-45:3);\n\n    %angles\n    \\draw (-45:3) coordinate (A)  (0,0) coordinate (B)\n          (0,-3) coordinate (C)\n           pic [draw,black,thick,angle radius=0.7cm, pic text=$\\theta$] {angle = C--B--A};\n    \\draw (-45:3) coordinate (A)  (0,-3) coordinate (B)\n          (3,-3) coordinate (C)\n           pic [draw,black,thick,angle radius=0.8cm, angle eccentricity=1.5, pic text=$\\theta/2$, pic text options={shift={(-0.75, 0.1)}}] {angle = C--B--A};\n\n   %parabola\n   \\draw[black, line width = 0.50mm]   plot[smooth,domain=-3:3] (\\x, {0.15*\\x*\\x-3});\n\\end{tikzpicture}\n\n\\end{document}"
}