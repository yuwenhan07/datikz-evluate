{
  "prompt": "A visual representation of the training scheme for LoRA. The update of $W$ is given by $W_0 + BA$ where $B$ and $A$ are of a particular low-rank form.",
  "response": "Certainly! Below is a TikZ LaTeX code that visually represents the training scheme for LoRA (Low-Rank Adaptation). This code includes nodes for \\( W_0 \\), \\( B \\), \\( A \\), and the updated weight \\( W \\).\n\n```latex\n\\documentclass{standalone}\n\\usepackage{tikz}\n\n\\begin{document}\n\\begin{tikzpicture}[node distance=2cm, auto]\n\n    % Nodes\n    \\node (W0) {\\( W_0 \\)};\n    \\node (B) [right of=W0] {\\( B \\)};\n    \\node (A) [below of=B] {\\( A \\)};\n    \\node (W) [below right of=W0, xshift=2cm] {\\( W \\)};\n    \n    % Arrows\n    \\draw[->] (W0) -- node[midway, above] {Initial Weight} (W);\n    \\draw[->] (B) -- node[midway, below] {Low-Rank Matrix} (W);\n    \\draw[->] (A) -- node[midway, left] {Low-Rank Matrix} (W);\n    \\draw[dashed, ->] (B) -- node[midway, above] {Low-Rank Update} (A);\n\n\\end{tikzpicture}\n\\end{document}\n```\n\nThis code creates a simple diagram with nodes representing \\( W_0 \\), \\( B \\), \\( A \\), and \\( W \\), and arrows indicating the flow of information and updates in the LoRA training scheme. The dashed arrow between \\( B \\) and \\( A \\) indicates the low-rank update mechanism.\n\nTo compile this LaTeX code, you can use any LaTeX editor or online compiler that supports TikZ. Simply copy the code into your document and compile it to generate the visual representation.",
  "latex_code": "\\documentclass{standalone}\n\\usepackage{tikz}\n\n\\begin{document}\n\\begin{tikzpicture}[node distance=2cm, auto]\n\n    % Nodes\n    \\node (W0) {\\( W_0 \\)};\n    \\node (B) [right of=W0] {\\( B \\)};\n    \\node (A) [below of=B] {\\( A \\)};\n    \\node (W) [below right of=W0, xshift=2cm] {\\( W \\)};\n    \n    % Arrows\n    \\draw[->] (W0) -- node[midway, above] {Initial Weight} (W);\n    \\draw[->] (B) -- node[midway, below] {Low-Rank Matrix} (W);\n    \\draw[->] (A) -- node[midway, left] {Low-Rank Matrix} (W);\n    \\draw[dashed, ->] (B) -- node[midway, above] {Low-Rank Update} (A);\n\n\\end{tikzpicture}\n\\end{document}",
  "ground_truth": "\\documentclass{article}\n\\usepackage{amssymb}\n\\usepackage{tikz}\n\n\\begin{document}\n\n\\begin{tikzpicture}[]\n\\node[fill=blue!10 ,minimum height = 12em, draw=black] at (0,0) {\\begin{tabular}{c}Pretrained\\\\ Weights\\\\ \\\\ $W_0 \\in \\mathbb{R}^{d\\times k}$ \\end{tabular}};\n\n\\draw[fill=orange!10 ,minimum height = 10em] (2,-2) -- (5,-2) -- (4,-.5) -- (3,-.5) -- (2,-2);\n\\draw[fill=orange!10 ,minimum height = 10em] (2,2) -- (5,2) -- (4,.5) -- (3,.5) -- (2,2);\n\\node at (3.5,-1.5) {$B\\in \\mathbb{R}^{d\\times r}$};\n\\node at (3.5,1.5) {$A\\in \\mathbb{R}^{r\\times k}$};\n\\node at (3.5,0) {$\\otimes$};\n\\node at (3.5,.3) {$r$};\n\\node at (3.5,-.3) {$r$};\n\\node at (3.5,-2.3) {$d$};\n\\node at (0,-2.3) {$d$};\n\\node at (0,2.3) {$k$};\n\\node at (3.5,2.3) {$k$};\n\\draw (2,3) circle (2mm);\n\\draw (2,3-.2) -- (2,3+.2);\n\\draw[rounded corners=2pt, thick] (0,2.5) |- (2,3);\n\\draw[rounded corners=2pt, thick] (3.5,2.5) |- (2,3);\n\\node[fill=orange!10, draw=black, thick, minimum width=5em] at (8,0.5) {Trainable};\n\\node[fill=blue!10, draw=black, thick, minimum width=5em] at (8,-0.5) {Frozen};\n\\node at (8,1) {Key};\n\\node at (-2,0) {$W \\to $};\n\\end{tikzpicture}\n\n\\end{document}"
}