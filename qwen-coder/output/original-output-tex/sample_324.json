{
  "prompt": "Sampling algorithms choose the next token at each time step~\\(s_i\\) by sampling from the conditional distribution~\\(p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:i-1})\\) and appending it to the context.",
  "response": "Certainly! Below is an example of how you might represent this concept using TikZ in LaTeX:\n\n```latex\n\\documentclass[tikz,border=5mm]{standalone}\n\\usetikzlibrary{shapes.geometric, arrows.meta}\n\n\\tikzset{\n  node distance=2cm,\n  startstop/.style={rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=red!30},\n  process/.style={rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=orange!30},\n  decision/.style={diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=green!30},\n  arrow/.style={thick->,>=stealth}\n}\n\n\\begin{document}\n\\begin{tikzpicture}[node distance=2cm]\n\n\\node (start) [startstop] {Start};\n\\node (init) [process, below of=start] {Initialize Context $\\boldsymbol{y}_{:0}$};\n\\node (sample) [decision, below of=init, yshift=-1cm] {Sample Token $s_i$ \\\\ from $p_\\theta(\\cdot \\mid \\boldsymbol{y}_{:i-1})$};\n\\node (append) [process, below of=sample, yshift=-1cm] {Append Token to Context};\n\\node (repeat) [decision, below of=append, yshift=-1cm] {Repeat until End?};\n\\node (end) [startstop, below of=repeat, yshift=-1cm] {End};\n\n% Drawing arrows\n\\draw [arrow] (start) -- (init);\n\\draw [arrow] (init) -- (sample);\n\\draw [arrow] (sample) -- (append);\n\\draw [arrow] (append) -- (repeat);\n\\draw [arrow] (repeat) -| node[anchor=east] {Yes} ++(4,-2) |- (end);\n\\draw [arrow] (repeat) -| node[anchor=east] {No} ++(4,-2) |- (sample);\n\n\\end{tikzpicture}\n\\end{document}\n```\n\n### Explanation:\n- **Nodes**:\n  - `start`: Represents the starting point.\n  - `init`: Initializes the context.\n  - `sample",
  "latex_code": "\\documentclass[tikz,border=5mm]{standalone}\n\\usetikzlibrary{shapes.geometric, arrows.meta}\n\n\\tikzset{\n  node distance=2cm,\n  startstop/.style={rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=red!30},\n  process/.style={rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=orange!30},\n  decision/.style={diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=green!30},\n  arrow/.style={thick->,>=stealth}\n}\n\n\\begin{document}\n\\begin{tikzpicture}[node distance=2cm]\n\n\\node (start) [startstop] {Start};\n\\node (init) [process, below of=start] {Initialize Context $\\boldsymbol{y}_{:0}$};\n\\node (sample) [decision, below of=init, yshift=-1cm] {Sample Token $s_i$ \\\\ from $p_\\theta(\\cdot \\mid \\boldsymbol{y}_{:i-1})$};\n\\node (append) [process, below of=sample, yshift=-1cm] {Append Token to Context};\n\\node (repeat) [decision, below of=append, yshift=-1cm] {Repeat until End?};\n\\node (end) [startstop, below of=repeat, yshift=-1cm] {End};\n\n% Drawing arrows\n\\draw [arrow] (start) -- (init);\n\\draw [arrow] (init) -- (sample);\n\\draw [arrow] (sample) -- (append);\n\\draw [arrow] (append) -- (repeat);\n\\draw [arrow] (repeat) -| node[anchor=east] {Yes} ++(4,-2) |- (end);\n\\draw [arrow] (repeat) -| node[anchor=east] {No} ++(4,-2) |- (sample);\n\n\\end{tikzpicture}\n\\end{document}",
  "ground_truth": "\\documentclass[10pt]{article}\n\\usepackage{amsmath,amsfonts,bm}\n\\usepackage{amsmath}\n\\usepackage{amssymb}\n\\usepackage{tikz}\n\\usepackage{pgfplots}\n\\usepackage{xcolor}\n\\usetikzlibrary{shapes, positioning, fit, backgrounds, tikzmark}\n\\pgfplotsset{compat=newest}\n\\usepgfplotslibrary{fillbetween}\n\\usepackage{color-edits}\n\n\\begin{document}\n\n\\begin{tikzpicture}[\n    vocab/.style={\n      draw,\n      text=gray,\n      rectangle split,\n      rectangle split parts=5,\n      rectangle split part align=left,\n      rectangle split draw splits=false,\n    }\n  ]\n  \\node[\n    vocab,\n    rectangle split part fill={none, none, black, none},\n    label=below:\\(s_1\\),\n    label=above:\\(y_1\\sim p_\\theta(\\cdot)\\),\n  ] (s1)  {\n    \\nodepart{one} {boyfriend}\n    \\nodepart{two} {is}\n    \\nodepart{three} \\textcolor{white}{Karma}\n    \\nodepart{four} {my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\node[\n    vocab,\n    rectangle split part fill={none, black, none},\n    label=below:\\(s_2\\),\n    label=above:\\(y_2\\sim p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:1})\\),\n  ] (s2) [right=of s1] {\n    \\nodepart{one} {boyfriend}\n    \\nodepart{two} \\textcolor{white}{is}\n    \\nodepart{three} {Karma}\n    \\nodepart{four} {my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\foreach \\part in {text west, two west, three west, four west, five west} {\n    \\draw[->, shorten >= 4pt] (s1.three east) -- (s2.\\part);\n  }\n  \\node[\n    vocab,\n    rectangle split part fill={none, none, none, black, none},\n    label=below:\\(s_3\\),\n    label=above:\\(y_3\\sim p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:2})\\),\n  ] (s3) [right=of s2] {\n    \\nodepart{one} {boyfriend}\n    \\nodepart{two} {is}\n    \\nodepart{three} {Karma}\n    \\nodepart{four} \\textcolor{white}{my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\foreach \\part in {text west, two west, three west, four west, five west} {\n    \\draw[->, shorten >= 4pt] (s2.two east) -- (s3.\\part);\n  }\n  \\node[\n    vocab,\n    rectangle split part fill={black, none},\n    label=below:\\(s_4\\),\n    label=above:\\(y_4\\sim p_\\theta(\\cdot\\mid\\boldsymbol{y}_{:3})\\),\n  ] (s4) [right=of s3] {\n    \\nodepart{one} \\textcolor{white}{boyfriend}\n    \\nodepart{two} {is}\n    \\nodepart{three} {Karma}\n    \\nodepart{four} {my}\n    \\nodepart{five} {\\ldots}\n  };\n  \\foreach \\part in {text west, two west, three west, four west, five west} {\n    \\draw[->, shorten >= 4pt] (s3.four east) -- (s4.\\part);\n  }\n  \\node[draw, fit=(s1) (s2) (s3) (s4), inner sep=16pt, rounded corners] (decoding) {};\n  \\node[\n    draw=white,\n    rectangle split,\n    rectangle split horizontal,\n    rectangle split parts=4,\n    rectangle split part fill=black,\n    label=\\(\\boldsymbol{y}\\in\\mathcal{Y}\\),\n  ] (seq) [right=of decoding] {};\n  \\draw[->, shorten >= 4pt] (decoding) -- (seq);\n\\end{tikzpicture}\n\n\\end{document}"
}