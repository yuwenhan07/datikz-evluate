{
  "prompt": "Left: Data generation pipeline. Right: The fine-tuned network $q_\\theta$ learns to do inference in a graphical model where the prior over programs, $\\mathcal{G}$, is defined by prompting an LLM with example code in $\\mathcal{D}_\\text{seed}$, while the likelihood $p(Y|\\rho, X)$ is defined by program execution.",
  "response": "Certainly! Below is a TikZ LaTeX code that visually represents the described data generation pipeline and the fine-tuned network \\( q_\\theta \\).\n\n```latex\n\\documentclass[tikz,border=2cm]{standalone}\n\\usetikzlibrary{shapes.geometric, arrows.meta}\n\n\\tikzset{\n    block/.style = {rectangle, draw, fill=blue!20, \n                    text width=5em, text centered, rounded corners, minimum height=4em},\n    line/.style = {draw, -Stealth', thick},\n    cloud/.style = {draw, ellipse, fill=red!20, node distance=3cm,\n                    minimum height=2em, text centered}\n}\n\n\\begin{document}\n\\begin{tikzpicture}[node distance=2cm]\n\n    % Left side: Data Generation Pipeline\n    \\node (data) [cloud] {Data Generation};\n    \\node (pipeline) [block, below of=data] {Pipeline};\n\n    % Right side: Fine-Tuned Network q_theta\n    \\node (network) [cloud, right of=pipeline, xshift=6cm] {Fine-Tuned Network};\n    \\node (inference) [block, below of=network] {Inference};\n    \\node (graphical_model) [block, left of=inference, xshift=-3cm] {Graphical Model};\n    \n    % Connections for Data Generation Pipeline\n    \\draw [line] (data) -- (pipeline);\n    \\draw [line] (pipeline) -- node[anchor=south] {Prior Over Programs} (graphical_model);\n    \\draw [line] (graphical_model.east) |- (network.west);\n\n    % Connections for Fine-Tuned Network q_theta\n    \\draw [line] (network) -- (inference);\n    \\draw [line] (inference) -- node[anchor=north] {Likelihood} (pipeline);\n    \\draw [line] (pipeline.south) |- (graphical_model.south);\n\n\\end{tikzpicture}\n\\end{document}\n```\n\nThis code creates a TikZ diagram with two main parts: the data generation pipeline on the left and the fine-tuned network \\( q_\\theta \\) on the right. The connections between the nodes represent the flow of information and processes as described in your prompt. You can compile this code using a LaTeX editor that supports TikZ, such as TeX",
  "latex_code": "\\documentclass[tikz,border=2cm]{standalone}\n\\usetikzlibrary{shapes.geometric, arrows.meta}\n\n\\tikzset{\n    block/.style = {rectangle, draw, fill=blue!20, \n                    text width=5em, text centered, rounded corners, minimum height=4em},\n    line/.style = {draw, -Stealth', thick},\n    cloud/.style = {draw, ellipse, fill=red!20, node distance=3cm,\n                    minimum height=2em, text centered}\n}\n\n\\begin{document}\n\\begin{tikzpicture}[node distance=2cm]\n\n    % Left side: Data Generation Pipeline\n    \\node (data) [cloud] {Data Generation};\n    \\node (pipeline) [block, below of=data] {Pipeline};\n\n    % Right side: Fine-Tuned Network q_theta\n    \\node (network) [cloud, right of=pipeline, xshift=6cm] {Fine-Tuned Network};\n    \\node (inference) [block, below of=network] {Inference};\n    \\node (graphical_model) [block, left of=inference, xshift=-3cm] {Graphical Model};\n    \n    % Connections for Data Generation Pipeline\n    \\draw [line] (data) -- (pipeline);\n    \\draw [line] (pipeline) -- node[anchor=south] {Prior Over Programs} (graphical_model);\n    \\draw [line] (graphical_model.east) |- (network.west);\n\n    % Connections for Fine-Tuned Network q_theta\n    \\draw [line] (network) -- (inference);\n    \\draw [line] (inference) -- node[anchor=north] {Likelihood} (pipeline);\n    \\draw [line] (pipeline.south) |- (graphical_model.south);\n\n\\end{tikzpicture}\n\\end{document}",
  "ground_truth": "\\documentclass{article}\n\\usepackage[color=red]{todonotes}\n\\usepackage[utf8]{inputenc}\n\\usepackage[T1]{fontenc}\n\\usepackage{tikz}\n\\usetikzlibrary{bayesnet}\n\\usepackage{amsmath}\n\\usepackage{xcolor}\n\n\\newcommand{\\program}{\\rho}\n\n\\newcommand{\\inputs}{X}\n\n\\newcommand{\\outputs}{Y}\n\n\\begin{document}\n\n\\begin{tikzpicture}\n    \\node[draw] (s) {$\\mathcal{D}_\\text{seed}$};\n    \\node[draw, right=of s, xshift=0.3cm] (g2) {$\\mathcal{G}$};\n    \\draw[->] (s) -- node [above,midway] {\\small defines} (g2);\n    \\node[draw, right=of g2, xshift=0.3cm](t) {$\\mathcal{D}_\\text{tune}$};\n    \\draw[->] (g2) -- node [above,midway] {\\small samples} (t);\n    \\node[draw, right=of t, xshift=0.2cm] (lm) {$q_\\theta$};\n    \\draw[->] (t) -- node [above,midway] {\\small trains} (lm);\n        \n    \\node[latent, right=of lm, xshift=1.2cm] (g) {$\\mathcal{G}$} ; %\n    \\node[latent, right=of g, yshift=0.6cm] (p){$\\program$};\n    \\node[obs, right=of g, yshift=-0.6cm] (x){$\\inputs$};\n    \\node[obs, right=of p, yshift=-0.6cm] (y){$\\outputs$};\n    \\edge[->] {g} {p};\n    \\edge[->] {g} {x};\n    \\edge[->] {p,x} {y};\n\\end{tikzpicture}\n\n\\end{document}"
}